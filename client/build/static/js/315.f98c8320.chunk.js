"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[315],{6794:function(e,r,a){a.d(r,{Z:function(){return l}});a(2791);var s=a(6355),n=a(3495),t=a(1087),o=a(184),l=function(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("footer",{children:[(0,o.jsxs)("div",{className:"footer",children:[(0,o.jsxs)("div",{className:"footer-links",children:[(0,o.jsx)("h3",{children:"Links"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(t.OL,{to:"/",children:"Home"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.OL,{to:"/doctors",children:"Doctors"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.OL,{to:"/appointments",children:"Appointments"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.OL,{to:"/notifications",children:"Notifications"})}),(0,o.jsx)("li",{children:(0,o.jsx)(n.fO,{to:"/#contact",children:"Contact Us"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.OL,{to:"/profile",children:"Profile"})})]})]}),(0,o.jsxs)("div",{className:"social",children:[(0,o.jsx)("h3",{children:"Social links"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{className:"facebook",children:(0,o.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:(0,o.jsx)(s.tBk,{})})}),(0,o.jsx)("li",{className:"youtube",children:(0,o.jsx)("a",{href:"https://www.youtube.com/",target:"_blank",rel:"noreferrer",children:(0,o.jsx)(s.V2E,{})})}),(0,o.jsx)("li",{className:"instagram",children:(0,o.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer",children:(0,o.jsx)(s.Zf_,{})})})]})]})]}),(0,o.jsxs)("div",{className:"footer-bottom",children:["Copy Right \xa9 ",(new Date).getFullYear()]})]})})}},315:function(e,r,a){a.r(r);var s=a(4942),n=a(4165),t=a(1413),o=a(5861),l=a(9439),i=a(2791),c=(a(7646),a(6794)),u=a(4956),d=a(3263),m=a(5218),p=a(5318),f=a(9434),h=a(3200),x=a(4971),j=a(456),g=a(184);d.Z.defaults.baseURL="http://localhost:5015/api",r.default=function(){var e=(0,j.Z)(localStorage.getItem("token")).userId,r=(0,f.I0)(),a=(0,f.v9)((function(e){return e.root})).loading,b=(0,i.useState)(""),v=(0,l.Z)(b,2),w=v[0],Z=v[1],N=(0,i.useState)({firstname:"",lastname:"",email:"",age:"",mobile:"",gender:"neither",address:"",password:"",confpassword:""}),y=(0,l.Z)(N,2),k=y[0],C=y[1],P=function(){var a=(0,o.Z)((0,n.Z)().mark((function a(){var s;return(0,n.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r((0,p.K4)(!0)),a.next=4,(0,x.Z)("/user/getuser/".concat(e));case 4:s=a.sent,C((0,t.Z)((0,t.Z)({},s),{},{password:"",confpassword:"",mobile:null===s.mobile?"":s.mobile,age:null===s.age?"":s.age})),Z(s.pic),r((0,p.K4)(!1)),a.next=12;break;case 10:a.prev=10,a.t0=a.catch(0);case 12:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}();(0,i.useEffect)((function(){P()}),[r]);var E=function(e){var r=e.target,a=r.name,n=r.value;return C((0,t.Z)((0,t.Z)({},k),{},(0,s.Z)({},a,n)))},L=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var a,s,o,l,i,c,u,p,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.preventDefault(),a=k.firstname,s=k.lastname,o=k.email,l=k.age,i=k.mobile,c=k.address,u=k.gender,p=k.password,f=k.confpassword,o){e.next=7;break}return e.abrupt("return",m.ZP.error("Email should not be empty"));case 7:if(!(a.length<3)){e.next=11;break}return e.abrupt("return",m.ZP.error("First name must be at least 3 characters long"));case 11:if(!(s.length<3)){e.next=15;break}return e.abrupt("return",m.ZP.error("Last name must be at least 3 characters long"));case 15:if(!(p.length<5)){e.next=19;break}return e.abrupt("return",m.ZP.error("Password must be at least 5 characters long"));case 19:if(p===f){e.next=21;break}return e.abrupt("return",m.ZP.error("Passwords do not match"));case 21:return e.next=23,m.ZP.promise(d.Z.put("/user/updateprofile",{firstname:a,lastname:s,age:l,mobile:i,address:c,gender:u,email:o,password:p},{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}),{pending:"Updating profile...",success:"Profile updated successfully",error:"Unable to update profile",loading:"Updating profile..."});case 23:C((0,t.Z)((0,t.Z)({},k),{},{password:"",confpassword:""})),e.next=29;break;case 26:return e.prev=26,e.t0=e.catch(0),e.abrupt("return",m.ZP.error("Unable to update profile"));case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(r){return e.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{}),a?(0,g.jsx)(h.Z,{}):(0,g.jsx)("section",{className:"register-section flex-center",children:(0,g.jsxs)("div",{className:"profile-container flex-center",children:[(0,g.jsx)("h2",{className:"form-heading",children:"Profile"}),(0,g.jsx)("img",{src:w,alt:"profile",className:"profile-pic"}),(0,g.jsxs)("form",{onSubmit:L,className:"register-form",children:[(0,g.jsxs)("div",{className:"form-same-row",children:[(0,g.jsx)("input",{type:"text",name:"firstname",className:"form-input",placeholder:"Enter your first name",value:k.firstname,onChange:E}),(0,g.jsx)("input",{type:"text",name:"lastname",className:"form-input",placeholder:"Enter your last name",value:k.lastname,onChange:E})]}),(0,g.jsxs)("div",{className:"form-same-row",children:[(0,g.jsx)("input",{type:"email",name:"email",className:"form-input",placeholder:"Enter your email",value:k.email,onChange:E}),(0,g.jsxs)("select",{name:"gender",value:k.gender,className:"form-input",id:"gender",onChange:E,children:[(0,g.jsx)("option",{value:"neither",children:"Prefer not to say"}),(0,g.jsx)("option",{value:"male",children:"Male"}),(0,g.jsx)("option",{value:"female",children:"Female"})]})]}),(0,g.jsxs)("div",{className:"form-same-row",children:[(0,g.jsx)("input",{type:"text",name:"age",className:"form-input",placeholder:"Enter your age",value:k.age,onChange:E}),(0,g.jsx)("input",{type:"text",name:"mobile",className:"form-input",placeholder:"Enter your mobile number",value:null===k||void 0===k?void 0:k.mobile,onChange:E})]}),(0,g.jsx)("textarea",{type:"text",name:"address",className:"form-input",placeholder:"Enter your address",value:k.address,onChange:E,rows:"2"}),(0,g.jsxs)("div",{className:"form-same-row",children:[(0,g.jsx)("input",{type:"password",name:"password",className:"form-input",placeholder:"Enter your password",value:k.password,onChange:E}),(0,g.jsx)("input",{type:"password",name:"confpassword",className:"form-input",placeholder:"Confirm your password",value:k.confpassword,onChange:E})]}),(0,g.jsx)("button",{type:"submit",className:"btn form-btn",children:"update"})]})]})}),(0,g.jsx)(c.Z,{})]})}}}]);
//# sourceMappingURL=315.f98c8320.chunk.js.map